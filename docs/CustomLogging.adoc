= OPTIONAL: Setting up custom logging =

This documents setup of cluster logging within an OpenShift cluster and is intended for suitably sized clusters running OpenShift version 4.3 or later.  This is a possible target for the Fuse integration in the main part of the demo, however it is not necessary as fuse can connect to other elastic search instances.

Most the the instructions here follow the link:https://docs.openshift.com/container-platform/4.3/logging/cluster-logging-deploying.html[official documentation] on deploying custom logging.

[NOTE]
====
[red]#You will need cluster admin access to be able to run this script successfully.#
====

== Install Elastic Search Operator (in prescribed fashion) ==

We going to run a script that will install the elasticsearch operator on all projects on the cluster and then create a cluster logging instance in a project called "openshift-logging".  This will gather all log information from all projects and will create a kibana instance that will give us a UI into the log data.

Run the following command to install:

----
$DEMO_HOME/scripts/05-optional-setup-custom-logging.sh
----

If the script has completed successfully you should see this at the end:

----
Kibana route is:
https://kibana-openshift-logging.apps.debezium.openshifttc.com/
----

Click on the route that is spit out at the end of the installation script.  From there enter your OpenShift login details.  You should then be brought to the kibana dashboard for the elastic search instance for the cluster

image:../images/kibana-dashboard.png[]

Happy log splunking!